import{R as H,V as S,D as T,A as _,C as G}from"./three-DQDvY0d0.js";import{t as R}from"./three-globe-rSpi2fet.js";import{t as w}from"./three-render-objects-BGFSWSrz.js";import{i as L}from"./accessor-fn-6UgdQG3j.js";import{i as E}from"./kapsule-BPi0Wuk3.js";import{T as I,E as F,G as M}from"./@tweenjs-Bw5eceMo.js";function V(r,o){o===void 0&&(o={});var e=o.insertAt;if(!(typeof document>"u")){var t=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",e==="top"&&t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i),i.styleSheet?i.styleSheet.cssText=r:i.appendChild(document.createTextNode(r))}}var B=`.scene-container .clickable {
  cursor: pointer;
}`;V(B);function k(r,o){(o==null||o>r.length)&&(o=r.length);for(var e=0,t=Array(o);e<o;e++)t[e]=r[e];return t}function z(r){if(Array.isArray(r))return k(r)}function O(r,o,e){return(o=Z(o))in r?Object.defineProperty(r,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[o]=e,r}function q(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function N(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x(r,o){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);o&&(t=t.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,t)}return e}function v(r){for(var o=1;o<arguments.length;o++){var e=arguments[o]!=null?arguments[o]:{};o%2?x(Object(e),!0).forEach(function(t){O(r,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):x(Object(e)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}return r}function W(r,o){if(r==null)return{};var e,t,i=$(r,o);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(r);for(t=0;t<g.length;t++)e=g[t],o.indexOf(e)===-1&&{}.propertyIsEnumerable.call(r,e)&&(i[e]=r[e])}return i}function $(r,o){if(r==null)return{};var e={};for(var t in r)if({}.hasOwnProperty.call(r,t)){if(o.indexOf(t)!==-1)continue;e[t]=r[t]}return e}function j(r){return z(r)||q(r)||J(r)||N()}function K(r,o){if(typeof r!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var t=e.call(r,o);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(r)}function Z(r){var o=K(r,"string");return typeof o=="symbol"?o:o+""}function J(r,o){if(r){if(typeof r=="string")return k(r,o);var e={}.toString.call(r).slice(8,-1);return e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set"?Array.from(r):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?k(r,o):void 0}}function D(r,o){var e=new o;return e._destructor&&e._destructor(),{linkProp:function(i){return{default:e[i](),onChange:function(c,b){b[r][i](c)},triggerUpdate:!1}},linkMethod:function(i){return function(g){for(var c=g[r],b=arguments.length,u=new Array(b>1?b-1:0),l=1;l<b;l++)u[l-1]=arguments[l];var n=c[i].apply(c,u);return n===c?this:n}}}}var Q=["rendererConfig","waitForGlobeReady"],P=v(v({},window.THREE?window.THREE:{AmbientLight:_,DirectionalLight:T,Vector2:S,REVISION:H}),{},{CSS2DRenderer:G}),A=D("globe",R),X=Object.assign.apply(Object,j(["globeImageUrl","bumpImageUrl","globeTileEngineUrl","globeTileEngineMaxLevel","globeCurvatureResolution","showGlobe","showGraticules","showAtmosphere","atmosphereColor","atmosphereAltitude","onGlobeReady","pointsData","pointLat","pointLng","pointColor","pointAltitude","pointRadius","pointResolution","pointsMerge","pointsTransitionDuration","arcsData","arcStartLat","arcStartLng","arcStartAltitude","arcEndLat","arcEndLng","arcEndAltitude","arcColor","arcAltitude","arcAltitudeAutoScale","arcStroke","arcCurveResolution","arcCircularResolution","arcDashLength","arcDashGap","arcDashInitialGap","arcDashAnimateTime","arcsTransitionDuration","polygonsData","polygonGeoJsonGeometry","polygonCapColor","polygonCapMaterial","polygonSideColor","polygonSideMaterial","polygonStrokeColor","polygonAltitude","polygonCapCurvatureResolution","polygonsTransitionDuration","pathsData","pathPoints","pathPointLat","pathPointLng","pathPointAlt","pathResolution","pathColor","pathStroke","pathDashLength","pathDashGap","pathDashInitialGap","pathDashAnimateTime","pathTransitionDuration","heatmapsData","heatmapPoints","heatmapPointLat","heatmapPointLng","heatmapPointWeight","heatmapBandwidth","heatmapColorFn","heatmapColorSaturation","heatmapBaseAltitude","heatmapTopAltitude","heatmapsTransitionDuration","hexBinPointsData","hexBinPointLat","hexBinPointLng","hexBinPointWeight","hexBinResolution","hexMargin","hexTopCurvatureResolution","hexTopColor","hexSideColor","hexAltitude","hexBinMerge","hexTransitionDuration","hexPolygonsData","hexPolygonGeoJsonGeometry","hexPolygonColor","hexPolygonAltitude","hexPolygonResolution","hexPolygonMargin","hexPolygonUseDots","hexPolygonCurvatureResolution","hexPolygonDotResolution","hexPolygonsTransitionDuration","tilesData","tileLat","tileLng","tileAltitude","tileWidth","tileHeight","tileUseGlobeProjection","tileMaterial","tileCurvatureResolution","tilesTransitionDuration","particlesData","particlesList","particleLat","particleLng","particleAltitude","particlesSize","particlesSizeAttenuation","particlesColor","particlesTexture","ringsData","ringLat","ringLng","ringAltitude","ringColor","ringResolution","ringMaxRadius","ringPropagationSpeed","ringRepeatPeriod","labelsData","labelLat","labelLng","labelAltitude","labelRotation","labelText","labelSize","labelTypeFace","labelColor","labelResolution","labelIncludeDot","labelDotRadius","labelDotOrientation","labelsTransitionDuration","htmlElementsData","htmlLat","htmlLng","htmlAltitude","htmlElement","htmlElementVisibilityModifier","htmlTransitionDuration","objectsData","objectLat","objectLng","objectAltitude","objectRotation","objectFacesSurface","objectThreeObject","customLayerData","customThreeObject","customThreeObjectUpdate"].map(function(r){return O({},r,A.linkProp(r))}))),Y=Object.assign.apply(Object,j(["globeMaterial","globeTileEngineClearCache","getGlobeRadius","getCoords","toGeoCoords"].map(function(r){return O({},r,A.linkMethod(r))}))),U=D("renderObjs",w),ee=Object.assign.apply(Object,j(["width","height","backgroundColor","backgroundImageUrl","enablePointerInteraction"].map(function(r){return O({},r,U.linkProp(r))}))),re=Object.assign.apply(Object,j(["lights","postProcessingComposer"].map(function(r){return O({},r,U.linkMethod(r))}))),ce=E({props:v(v({onZoom:{triggerUpdate:!1},onGlobeClick:{triggerUpdate:!1},onGlobeRightClick:{triggerUpdate:!1},pointLabel:{default:"name",triggerUpdate:!1},onPointClick:{triggerUpdate:!1},onPointRightClick:{triggerUpdate:!1},onPointHover:{triggerUpdate:!1},arcLabel:{default:"name",triggerUpdate:!1},onArcClick:{triggerUpdate:!1},onArcRightClick:{triggerUpdate:!1},onArcHover:{triggerUpdate:!1},polygonLabel:{default:"name",triggerUpdate:!1},onPolygonClick:{triggerUpdate:!1},onPolygonRightClick:{triggerUpdate:!1},onPolygonHover:{triggerUpdate:!1},pathLabel:{default:"name",triggerUpdate:!1},onPathClick:{triggerUpdate:!1},onPathRightClick:{triggerUpdate:!1},onPathHover:{triggerUpdate:!1},onHeatmapClick:{triggerUpdate:!1},onHeatmapRightClick:{triggerUpdate:!1},onHeatmapHover:{triggerUpdate:!1},hexLabel:{triggerUpdate:!1},onHexClick:{triggerUpdate:!1},onHexRightClick:{triggerUpdate:!1},onHexHover:{triggerUpdate:!1},hexPolygonLabel:{triggerUpdate:!1},onHexPolygonClick:{triggerUpdate:!1},onHexPolygonRightClick:{triggerUpdate:!1},onHexPolygonHover:{triggerUpdate:!1},tileLabel:{default:"name",triggerUpdate:!1},onTileClick:{triggerUpdate:!1},onTileRightClick:{triggerUpdate:!1},onTileHover:{triggerUpdate:!1},particleLabel:{default:"name",triggerUpdate:!1},onParticleClick:{triggerUpdate:!1},onParticleRightClick:{triggerUpdate:!1},onParticleHover:{triggerUpdate:!1},labelLabel:{triggerUpdate:!1},onLabelClick:{triggerUpdate:!1},onLabelRightClick:{triggerUpdate:!1},onLabelHover:{triggerUpdate:!1},objectLabel:{default:"name",triggerUpdate:!1},onObjectClick:{triggerUpdate:!1},onObjectRightClick:{triggerUpdate:!1},onObjectHover:{triggerUpdate:!1},customLayerLabel:{default:"name",triggerUpdate:!1},onCustomLayerClick:{triggerUpdate:!1},onCustomLayerRightClick:{triggerUpdate:!1},onCustomLayerHover:{triggerUpdate:!1},pointerEventsFilter:{default:function(){return!0},triggerUpdate:!1},lineHoverPrecision:{default:.2,triggerUpdate:!1,onChange:function(o,e){e.renderObjs.lineHoverPrecision(o),e.renderObjs.pointsHoverPrecision(o)}},showPointerCursor:{default:!0,triggerUpdate:!1},globeOffset:{default:[0,0],triggerUpdate:!1,onChange:function(o,e){return Array.isArray(o)&&o.length===2&&e.renderObjs.viewOffset(o.map(function(t){return-t}))}}},X),ee),methods:v(v({pauseAnimation:function(o){var e;return o.animationFrameRequestId!==null&&(cancelAnimationFrame(o.animationFrameRequestId),o.animationFrameRequestId=null),(e=o.globe)===null||e===void 0||e.pauseAnimation(),this},resumeAnimation:function(o){var e;return o.animationFrameRequestId===null&&this._animationCycle(),(e=o.globe)===null||e===void 0||e.resumeAnimation(),this},_animationCycle:function(o){o.renderObjs.tick(),o.tweenGroup.update(),o.animationFrameRequestId=requestAnimationFrame(this._animationCycle)},pointOfView:function(o){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=c();if(e.lat===void 0&&e.lng===void 0&&e.altitude===void 0)return i;var g=Object.assign({},i,e);if(["lat","lng","altitude"].forEach(function(u){return g[u]=+g[u]}),!t)b(g);else{for(;i.lng-g.lng>180;)i.lng-=360;for(;i.lng-g.lng<-180;)i.lng+=360;o.tweenGroup.add(new I(i).to(g,t).easing(F.Cubic.InOut).onUpdate(b).start())}return this;function c(){return o.globe.toGeoCoords(o.renderObjs.cameraPosition())}function b(u){var l=u.lat,n=u.lng,a=u.altitude;o.renderObjs.cameraPosition(o.globe.getCoords(l,n,a)),o.globe.setPointOfView(o.renderObjs.camera())}},getScreenCoords:function(o){for(var e,t=arguments.length,i=new Array(t>1?t-1:0),g=1;g<t;g++)i[g-1]=arguments[g];var c=(e=o.globe).getCoords.apply(e,i);return o.renderObjs.getScreenCoords(c.x,c.y,c.z)},toGlobeCoords:function(o,e,t){var i=o.renderObjs.intersectingObjects(e,t).find(function(u){return(u.object.__globeObjType||u.object.parent.__globeObjType)==="globe"});if(!i)return null;var g=o.globe.toGeoCoords(i.point),c=g.lat,b=g.lng;return{lat:c,lng:b}},scene:function(o){return o.renderObjs.scene()},camera:function(o){return o.renderObjs.camera()},renderer:function(o){return o.renderObjs.renderer()},controls:function(o){return o.renderObjs.controls()},_destructor:function(o){o.globe._destructor(),this.pauseAnimation(),this.pointsData([]),this.arcsData([]),this.polygonsData([]),this.pathsData([]),this.heatmapsData([]),this.hexBinPointsData([]),this.hexPolygonsData([]),this.tilesData([]),this.particlesData([]),this.labelsData([]),this.htmlElementsData([]),this.objectsData([]),this.customLayerData([])}},Y),re),stateInit:function(o){var e=o.rendererConfig,t=o.waitForGlobeReady,i=t===void 0?!0:t,g=W(o,Q),c=new R(v({waitForGlobeReady:i},g));return{globe:c,renderObjs:w({controlType:"orbit",rendererConfig:e,waitForLoadComplete:i,extraRenderers:[new P.CSS2DRenderer]}).skyRadius(c.getGlobeRadius()*500).showNavInfo(!1).objects([c]).lights([new P.AmbientLight(13421772,Math.PI),new P.DirectionalLight(16777215,.6*Math.PI)]),tweenGroup:new M}},init:function(o,e){var t=this;o.innerHTML="",o.appendChild(e.container=document.createElement("div")),e.container.style.position="relative";var i=document.createElement("div");e.container.appendChild(i),e.renderObjs(i),e.globe.rendererSize(e.renderObjs.renderer().getSize(new P.Vector2)),this.pointOfView({altitude:2.5});var g=e.globe.getGlobeRadius(),c=e.renderObjs.controls();e.renderObjs.camera().near=.05,c.minDistance=g+Math.max(.001,e.renderObjs.camera().near*1.1),c.maxDistance=g*100,c.enablePan=!1,c.enableDamping=!0,c.dampingFactor=.1,c.rotateSpeed=.3,c.zoomSpeed=.3,c.zoomToCursor=!0,c.addEventListener("change",function(){c.target.setScalar(0);var l=t.pointOfView();c.rotateSpeed=l.altitude*.3,c.zoomSpeed=Math.sqrt(l.altitude)*.5,e.globe.setPointOfView(e.renderObjs.camera()),e.onZoom&&e.onZoom(l)});var b=function(n){for(var a=n;a&&!a.hasOwnProperty("__globeObjType");)a=a.parent;return a},u={point:function(n){return n},arc:function(n){return n},polygon:function(n){return n.data},path:function(n){return n},heatmap:function(n){return n},hexbin:function(n){return n},hexPolygon:function(n){return n},tile:function(n){return n},particles:function(n,a){return!a||!a.hasOwnProperty("index")||n.length<=a.index?n:n[a.index]},label:function(n){return n},object:function(n){return n},custom:function(n){return n}};P.REVISION<155&&(e.renderObjs.renderer().useLegacyLights=!1),e.renderObjs.hoverFilter(function(l){var n=b(l);if(!n)return!1;var a=n.__globeObjType;if(a!=="globe"&&!u.hasOwnProperty(a))return!1;var s=u.hasOwnProperty(a)&&n.__data?u[a](n.__data):null;return["points","hexBinPoints"].some(function(d){return d===a})&&Array.isArray(s)?!1:e.pointerEventsFilter(n,s)}).tooltipContent(function(l,n){var a={point:e.pointLabel,arc:e.arcLabel,polygon:e.polygonLabel,path:e.pathLabel,hexbin:e.hexLabel,hexPolygon:e.hexPolygonLabel,tile:e.tileLabel,particles:e.particleLabel,label:e.labelLabel,object:e.objectLabel,custom:e.customLayerLabel},s=b(l),d=s&&s.__globeObjType;return s&&d&&a.hasOwnProperty(d)&&u.hasOwnProperty(d)&&L(a[d])(u[d](s.__data,n))||""}).onHover(function(l,n,a){var s={point:e.onPointHover,arc:e.onArcHover,polygon:e.onPolygonHover,path:e.onPathHover,heatmap:e.onHeatmapHover,hexbin:e.onHexHover,hexPolygon:e.onHexPolygonHover,tile:e.onTileHover,particles:e.onParticleHover,label:e.onLabelHover,object:e.onObjectHover,custom:e.onCustomLayerHover},d={globe:e.onGlobeClick,point:e.onPointClick,arc:e.onArcClick,polygon:e.onPolygonClick,path:e.onPathClick,heatmap:e.onHeatmapClick,hexbin:e.onHexClick,hexPolygon:e.onHexPolygonClick,tile:e.onTileClick,particles:e.onParticleClick,label:e.onLabelClick,object:e.onObjectClick,custom:e.onCustomLayerClick},p=b(l);if(p&&!s.hasOwnProperty(p.__globeObjType)&&(p=null),p!==e.hoverObj){var h,m=e.hoverObj?e.hoverObj.__globeObjType:null,y=e.hoverData,f=p?p.__globeObjType:null,C=(h=p)!==null&&h!==void 0&&h.__data?u[f](p.__data,a):null;m&&m!==f&&s[m]&&s[m](null,y||null),f&&s[f]&&s[f](C,m===f?y:null),e.renderObjs.renderer().domElement.classList[f&&d[f]&&L(e.showPointerCursor)(f,C)?"add":"remove"]("clickable"),e.hoverObj=p,e.hoverData=C}}).onClick(function(l,n,a){if(l){var s={globe:e.onGlobeClick,point:e.onPointClick,arc:e.onArcClick,polygon:e.onPolygonClick,path:e.onPathClick,heatmap:e.onHeatmapClick,hexbin:e.onHexClick,hexPolygon:e.onHexPolygonClick,tile:e.onTileClick,particles:e.onParticleClick,label:e.onLabelClick,object:e.onObjectClick,custom:e.onCustomLayerClick},d=b(l),p=d.__globeObjType;if(d&&s.hasOwnProperty(p)&&s[p]){var h=[n],m=a!=null&&a.isVector3?a:a?.point;if(p==="globe"){var y=t.toGeoCoords(m),f=y.lat,C=y.lng;h.unshift({lat:f,lng:C})}else h.push(t.toGeoCoords(m));u.hasOwnProperty(p)&&h.unshift(u[p](d.__data,a)),s[p].apply(s,h)}}}).onRightClick(function(l,n,a){if(l){var s={globe:e.onGlobeRightClick,point:e.onPointRightClick,arc:e.onArcRightClick,polygon:e.onPolygonRightClick,path:e.onPathRightClick,heatmap:e.onHeatmapRightClick,hexbin:e.onHexRightClick,hexPolygon:e.onHexPolygonRightClick,tile:e.onTileRightClick,particles:e.onParticleRightClick,label:e.onLabelRightClick,object:e.onObjectRightClick,custom:e.onCustomLayerRightClick},d=b(l),p=d.__globeObjType;if(d&&s.hasOwnProperty(p)&&s[p]){var h=[n],m=a!=null&&a.isVector3?a:a?.point;if(p==="globe"){var y=t.toGeoCoords(m),f=y.lat,C=y.lng;h.unshift({lat:f,lng:C})}else h.push(t.toGeoCoords(m));u.hasOwnProperty(p)&&h.unshift(u[p](d.__data,a)),s[p].apply(s,h)}}}),this._animationCycle()}});export{ce as g};
