import{i as d,a as w,b as M}from"./d3-interpolate-BnASgxsX.js";import{b as v,t as b,a as A,c as x}from"./d3-array-DwlNfeyV.js";import{f as R,p as F,a as q,b as z,c as I,d as P}from"./d3-format-CzD4bSOQ.js";function k(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n);break}return this}function S(n){return function(){return n}}function j(n){return+n}var g=[0,1];function h(n){return n}function p(n,t){return(t-=n=+n)?function(a){return(a-n)/t}:S(isNaN(t)?NaN:.5)}function E(n,t){var a;return n>t&&(a=n,n=t,t=a),function(r){return Math.max(n,Math.min(t,r))}}function O(n,t,a){var r=n[0],i=n[1],u=t[0],e=t[1];return i<r?(r=p(i,r),u=a(e,u)):(r=p(r,i),u=a(u,e)),function(s){return u(r(s))}}function $(n,t,a){var r=Math.min(n.length,t.length)-1,i=new Array(r),u=new Array(r),e=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++e<r;)i[e]=p(n[e],n[e+1]),u[e]=a(t[e],t[e+1]);return function(s){var o=v(n,s,1,r)-1;return u[o](i[o](s))}}function B(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function C(){var n=g,t=g,a=w,r,i,u,e=h,s,o,c;function m(){var l=Math.min(n.length,t.length);return e!==h&&(e=E(n[0],n[l-1])),s=l>2?$:O,o=c=null,f}function f(l){return l==null||isNaN(l=+l)?u:(o||(o=s(n.map(r),t,a)))(r(e(l)))}return f.invert=function(l){return e(i((c||(c=s(t,n.map(r),d)))(l)))},f.domain=function(l){return arguments.length?(n=Array.from(l,j),m()):n.slice()},f.range=function(l){return arguments.length?(t=Array.from(l),m()):t.slice()},f.rangeRound=function(l){return t=Array.from(l),a=M,m()},f.clamp=function(l){return arguments.length?(e=l?!0:h,m()):e!==h},f.interpolate=function(l){return arguments.length?(a=l,m()):a},f.unknown=function(l){return arguments.length?(u=l,f):u},function(l,N){return r=l,i=N,m()}}function D(){return C()(h,h)}function G(n,t,a,r){var i=b(n,t,a),u;switch(r=R(r??",f"),r.type){case"s":{var e=Math.max(Math.abs(n),Math.abs(t));return r.precision==null&&!isNaN(u=z(i,e))&&(r.precision=u),I(r,e)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(u=q(i,Math.max(Math.abs(n),Math.abs(t))))&&(r.precision=u-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(u=F(i))&&(r.precision=u-(r.type==="%")*2);break}}return P(r)}function y(n){var t=n.domain;return n.ticks=function(a){var r=t();return A(r[0],r[r.length-1],a??10)},n.tickFormat=function(a,r){var i=t();return G(i[0],i[i.length-1],a??10,r)},n.nice=function(a){a==null&&(a=10);var r=t(),i=0,u=r.length-1,e=r[i],s=r[u],o,c,m=10;for(s<e&&(c=e,e=s,s=c,c=i,i=u,u=c);m-- >0;){if(c=x(e,s,a),c===o)return r[i]=e,r[u]=s,t(r);if(c>0)e=Math.floor(e/c)*c,s=Math.ceil(s/c)*c;else if(c<0)e=Math.ceil(e*c)/c,s=Math.floor(s*c)/c;else break;o=c}return n},n}function H(){var n=D();return n.copy=function(){return B(n,H())},k.apply(n,arguments),y(n)}function J(){var n=0,t=1,a=1,r=[.5],i=[0,1],u;function e(o){return o!=null&&o<=o?i[v(r,o,0,a)]:u}function s(){var o=-1;for(r=new Array(a);++o<a;)r[o]=((o+1)*t-(o-a)*n)/(a+1);return e}return e.domain=function(o){return arguments.length?([n,t]=o,n=+n,t=+t,s()):[n,t]},e.range=function(o){return arguments.length?(a=(i=Array.from(o)).length-1,s()):i.slice()},e.invertExtent=function(o){var c=i.indexOf(o);return c<0?[NaN,NaN]:c<1?[n,r[0]]:c>=a?[r[a-1],t]:[r[c-1],r[c]]},e.unknown=function(o){return arguments.length&&(u=o),e},e.thresholds=function(){return r.slice()},e.copy=function(){return J().domain([n,t]).range(i).unknown(u)},k.apply(y(e),arguments)}export{H as l,J as q};
