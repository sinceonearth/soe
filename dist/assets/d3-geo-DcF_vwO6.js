import{A as un,m as jt,r as Sn}from"./d3-array-DwlNfeyV.js";var $=1e-6,Gn=1e-12,C=Math.PI,j=C/2,On=C/4,m=C*2,q=180/C,R=C/180,X=Math.abs,Et=Math.atan,nn=Math.atan2,L=Math.cos,$n=Math.ceil,gi=Math.exp,tt=Math.hypot,hi=Math.log,w=Math.sin,Si=Math.sign||function(n){return n>0?1:n<0?-1:0},fn=Math.sqrt,Ei=Math.tan;function yi(n){return n>1?0:n<-1?C:Math.acos(n)}function ln(n){return n>1?j:n<-1?-j:Math.asin(n)}function Mt(n){return(n=w(n/2))*n}function Z(){}function Bn(n,t){n&&Rt.hasOwnProperty(n.type)&&Rt[n.type](n,t)}var wt={Feature:function(n,t){Bn(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,i=-1,e=r.length;++i<e;)Bn(r[i].geometry,t)}},Rt={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)n=r[i],t.point(n[0],n[1],n[2])},LineString:function(n,t){it(n.coordinates,t,0)},MultiLineString:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)it(r[i],t,0)},Polygon:function(n,t){Lt(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)Lt(r[i],t)},GeometryCollection:function(n,t){for(var r=n.geometries,i=-1,e=r.length;++i<e;)Bn(r[i],t)}};function it(n,t,r){var i=-1,e=n.length-r,u;for(t.lineStart();++i<e;)u=n[i],t.point(u[0],u[1],u[2]);t.lineEnd()}function Lt(n,t){var r=-1,i=n.length;for(t.polygonStart();++r<i;)it(n[r],t,1);t.polygonEnd()}function mn(n,t){n&&wt.hasOwnProperty(n.type)?wt[n.type](n,t):Bn(n,t)}var qn=new un,Nt=new un,kt,_t,rt,et,ot,cn={point:Z,lineStart:Z,lineEnd:Z,polygonStart:function(){qn=new un,cn.lineStart=di,cn.lineEnd=Pi},polygonEnd:function(){var n=+qn;Nt.add(n<0?m+n:n),this.lineStart=this.lineEnd=this.point=Z},sphere:function(){Nt.add(m)}};function di(){cn.point=Mi}function Pi(){mt(kt,_t)}function Mi(n,t){cn.point=mt,kt=n,_t=t,n*=R,t*=R,rt=n,et=L(t=t/2+On),ot=w(t)}function mt(n,t){n*=R,t*=R,t=t/2+On;var r=n-rt,i=r>=0?1:-1,e=i*r,u=L(t),f=w(t),c=ot*f,S=et*u+c*L(e),p=c*i*w(e);qn.add(nn(p,S)),rt=n,et=u,ot=f}function Wn(n){return[nn(n[1],n[0]),ln(n[2])]}function gn(n){var t=n[0],r=n[1],i=L(r);return[i*L(t),i*w(t),w(r)]}function An(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function yn(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function bn(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function Cn(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function Hn(n){var t=fn(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}var O,V,B,_,vn,bt,ni,En,Ln,sn,an,on={point:ut,lineStart:It,lineEnd:zt,polygonStart:function(){on.point=ii,on.lineStart=wi,on.lineEnd=Ri,Ln=new un,cn.polygonStart()},polygonEnd:function(){cn.polygonEnd(),on.point=ut,on.lineStart=It,on.lineEnd=zt,qn<0?(O=-(B=180),V=-(_=90)):Ln>$?_=90:Ln<-$&&(V=-90),an[0]=O,an[1]=B},sphere:function(){O=-(B=180),V=-(_=90)}};function ut(n,t){sn.push(an=[O=n,B=n]),t<V&&(V=t),t>_&&(_=t)}function ti(n,t){var r=gn([n*R,t*R]);if(En){var i=yn(En,r),e=[i[1],-i[0],0],u=yn(e,i);Hn(u),u=Wn(u);var f=n-vn,c=f>0?1:-1,S=u[0]*q*c,p,o=X(f)>180;o^(c*vn<S&&S<c*n)?(p=u[1]*q,p>_&&(_=p)):(S=(S+360)%360-180,o^(c*vn<S&&S<c*n)?(p=-u[1]*q,p<V&&(V=p)):(t<V&&(V=t),t>_&&(_=t))),o?n<vn?k(O,n)>k(O,B)&&(B=n):k(n,B)>k(O,B)&&(O=n):B>=O?(n<O&&(O=n),n>B&&(B=n)):n>vn?k(O,n)>k(O,B)&&(B=n):k(n,B)>k(O,B)&&(O=n)}else sn.push(an=[O=n,B=n]);t<V&&(V=t),t>_&&(_=t),En=r,vn=n}function It(){on.point=ti}function zt(){an[0]=O,an[1]=B,on.point=ut,En=null}function ii(n,t){if(En){var r=n-vn;Ln.add(X(r)>180?r+(r>0?360:-360):r)}else bt=n,ni=t;cn.point(n,t),ti(n,t)}function wi(){cn.lineStart()}function Ri(){ii(bt,ni),cn.lineEnd(),X(Ln)>$&&(O=-(B=180)),an[0]=O,an[1]=B,En=null}function k(n,t){return(t-=n)<0?t+360:t}function Li(n,t){return n[0]-t[0]}function $t(n,t){return n[0]<=n[1]?n[0]<=t&&t<=n[1]:t<n[0]||n[1]<t}function lr(n){var t,r,i,e,u,f,c;if(_=B=-(O=V=1/0),sn=[],mn(n,on),r=sn.length){for(sn.sort(Li),t=1,i=sn[0],u=[i];t<r;++t)e=sn[t],$t(i,e[0])||$t(i,e[1])?(k(i[0],e[1])>k(i[0],i[1])&&(i[1]=e[1]),k(e[0],i[1])>k(i[0],i[1])&&(i[0]=e[0])):u.push(i=e);for(f=-1/0,r=u.length-1,t=0,i=u[r];t<=r;i=e,++t)e=u[t],(c=k(i[1],e[0]))>f&&(f=c,O=e[0],B=i[1])}return sn=an=null,O===1/0||V===1/0?[[NaN,NaN],[NaN,NaN]]:[[O,V],[B,_]]}var wn,Zn,xn,Jn,Kn,Qn,Un,Vn,ft,lt,ct,ri,ei,x,J,K,tn={sphere:Z,point:yt,lineStart:At,lineEnd:Ct,polygonStart:function(){tn.lineStart=zi,tn.lineEnd=$i},polygonEnd:function(){tn.lineStart=At,tn.lineEnd=Ct}};function yt(n,t){n*=R,t*=R;var r=L(t);In(r*L(n),r*w(n),w(t))}function In(n,t,r){++wn,xn+=(n-xn)/wn,Jn+=(t-Jn)/wn,Kn+=(r-Kn)/wn}function At(){tn.point=Ni}function Ni(n,t){n*=R,t*=R;var r=L(t);x=r*L(n),J=r*w(n),K=w(t),tn.point=Ii,In(x,J,K)}function Ii(n,t){n*=R,t*=R;var r=L(t),i=r*L(n),e=r*w(n),u=w(t),f=nn(fn((f=J*u-K*e)*f+(f=K*i-x*u)*f+(f=x*e-J*i)*f),x*i+J*e+K*u);Zn+=f,Qn+=f*(x+(x=i)),Un+=f*(J+(J=e)),Vn+=f*(K+(K=u)),In(x,J,K)}function Ct(){tn.point=yt}function zi(){tn.point=Ai}function $i(){oi(ri,ei),tn.point=yt}function Ai(n,t){ri=n,ei=t,n*=R,t*=R,tn.point=oi;var r=L(t);x=r*L(n),J=r*w(n),K=w(t),In(x,J,K)}function oi(n,t){n*=R,t*=R;var r=L(t),i=r*L(n),e=r*w(n),u=w(t),f=J*u-K*e,c=K*i-x*u,S=x*e-J*i,p=tt(f,c,S),o=ln(p),l=p&&-o/p;ft.add(l*f),lt.add(l*c),ct.add(l*S),Zn+=o,Qn+=o*(x+(x=i)),Un+=o*(J+(J=e)),Vn+=o*(K+(K=u)),In(x,J,K)}function cr(n){wn=Zn=xn=Jn=Kn=Qn=Un=Vn=0,ft=new un,lt=new un,ct=new un,mn(n,tn);var t=+ft,r=+lt,i=+ct,e=tt(t,r,i);return e<Gn&&(t=Qn,r=Un,i=Vn,Zn<$&&(t=xn,r=Jn,i=Kn),e=tt(t,r,i),e<Gn)?[NaN,NaN]:[nn(r,t)*q,ln(i/e)*q]}function at(n,t){function r(i,e){return i=n(i,e),t(i[0],i[1])}return n.invert&&t.invert&&(r.invert=function(i,e){return i=t.invert(i,e),i&&n.invert(i[0],i[1])}),r}function st(n,t){return X(n)>C&&(n-=Math.round(n/m)*m),[n,t]}st.invert=st;function ui(n,t,r){return(n%=m)?t||r?at(Tt(n),Xt(t,r)):Tt(n):t||r?Xt(t,r):st}function Dt(n){return function(t,r){return t+=n,X(t)>C&&(t-=Math.round(t/m)*m),[t,r]}}function Tt(n){var t=Dt(n);return t.invert=Dt(-n),t}function Xt(n,t){var r=L(n),i=w(n),e=L(t),u=w(t);function f(c,S){var p=L(S),o=L(c)*p,l=w(c)*p,a=w(S),g=a*r+o*i;return[nn(l*e-g*u,o*r-a*i),ln(g*e+l*u)]}return f.invert=function(c,S){var p=L(S),o=L(c)*p,l=w(c)*p,a=w(S),g=a*e-l*u;return[nn(l*e+a*u,o*r+g*i),ln(g*r-o*i)]},f}function ar(n){n=ui(n[0]*R,n[1]*R,n.length>2?n[2]*R:0);function t(r){return r=n(r[0]*R,r[1]*R),r[0]*=q,r[1]*=q,r}return t.invert=function(r){return r=n.invert(r[0]*R,r[1]*R),r[0]*=q,r[1]*=q,r},t}function Ci(n,t,r,i,e,u){if(r){var f=L(t),c=w(t),S=i*r;e==null?(e=t+i*m,u=t-S/2):(e=Yt(f,e),u=Yt(f,u),(i>0?e<u:e>u)&&(e+=i*m));for(var p,o=e;i>0?o>u:o<u;o-=S)p=Wn([f,-c*L(o),-c*w(o)]),n.point(p[0],p[1])}}function Yt(n,t){t=gn(t),t[0]-=n,Hn(t);var r=yi(-t[1]);return((-t[2]<0?-r:r)+m-$)%m}function fi(){var n=[],t;return{point:function(r,i,e){t.push([r,i,e])},lineStart:function(){n.push(t=[])},lineEnd:Z,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var r=n;return n=[],t=null,r}}}function Xn(n,t){return X(n[0]-t[0])<$&&X(n[1]-t[1])<$}function Dn(n,t,r,i){this.x=n,this.z=t,this.o=r,this.e=i,this.v=!1,this.n=this.p=null}function li(n,t,r,i,e){var u=[],f=[],c,S;if(n.forEach(function(v){if(!((M=v.length-1)<=0)){var M,E=v[0],y=v[M],P;if(Xn(E,y)){if(!E[2]&&!y[2]){for(e.lineStart(),c=0;c<M;++c)e.point((E=v[c])[0],E[1]);e.lineEnd();return}y[0]+=2*$}u.push(P=new Dn(E,v,null,!0)),f.push(P.o=new Dn(E,null,P,!1)),u.push(P=new Dn(y,v,null,!1)),f.push(P.o=new Dn(y,null,P,!0))}}),!!u.length){for(f.sort(t),Ft(u),Ft(f),c=0,S=f.length;c<S;++c)f[c].e=r=!r;for(var p=u[0],o,l;;){for(var a=p,g=!0;a.v;)if((a=a.n)===p)return;o=a.z,e.lineStart();do{if(a.v=a.o.v=!0,a.e){if(g)for(c=0,S=o.length;c<S;++c)e.point((l=o[c])[0],l[1]);else i(a.x,a.n.x,1,e);a=a.n}else{if(g)for(o=a.p.z,c=o.length-1;c>=0;--c)e.point((l=o[c])[0],l[1]);else i(a.x,a.p.x,-1,e);a=a.p}a=a.o,o=a.z,g=!g}while(!a.v);e.lineEnd()}}}function Ft(n){if(t=n.length){for(var t,r=0,i=n[0],e;++r<t;)i.n=e=n[r],e.p=i,i=e;i.n=e=n[0],e.p=i}}function nt(n){return X(n[0])<=C?n[0]:Si(n[0])*((X(n[0])+C)%m-C)}function ci(n,t){var r=nt(t),i=t[1],e=w(i),u=[w(r),-L(r),0],f=0,c=0,S=new un;e===1?i=j+$:e===-1&&(i=-j-$);for(var p=0,o=n.length;p<o;++p)if(a=(l=n[p]).length)for(var l,a,g=l[a-1],v=nt(g),M=g[1]/2+On,E=w(M),y=L(M),P=0;P<a;++P,v=d,E=z,y=Y,g=h){var h=l[P],d=nt(h),N=h[1]/2+On,z=w(N),Y=L(N),D=d-v,T=D>=0?1:-1,G=T*D,I=G>C,Q=E*z;if(S.add(nn(Q*T*w(G),y*Y+Q*L(G))),f+=I?D+T*m:D,I^v>=r^d>=r){var W=yn(gn(g),gn(h));Hn(W);var F=yn(u,W);Hn(F);var s=(I^D>=0?-1:1)*ln(F[2]);(i>s||i===s&&(W[0]||W[1]))&&(c+=I^D>=0?1:-1)}}return(f<-$||f<$&&S<-Gn)^c&1}function ai(n,t,r,i){return function(e){var u=t(e),f=fi(),c=t(f),S=!1,p,o,l,a={point:g,lineStart:M,lineEnd:E,polygonStart:function(){a.point=y,a.lineStart=P,a.lineEnd=h,o=[],p=[]},polygonEnd:function(){a.point=g,a.lineStart=M,a.lineEnd=E,o=jt(o);var d=ci(p,i);o.length?(S||(e.polygonStart(),S=!0),li(o,Ti,d,r,e)):d&&(S||(e.polygonStart(),S=!0),e.lineStart(),r(null,null,1,e),e.lineEnd()),S&&(e.polygonEnd(),S=!1),o=p=null},sphere:function(){e.polygonStart(),e.lineStart(),r(null,null,1,e),e.lineEnd(),e.polygonEnd()}};function g(d,N){n(d,N)&&e.point(d,N)}function v(d,N){u.point(d,N)}function M(){a.point=v,u.lineStart()}function E(){a.point=g,u.lineEnd()}function y(d,N){l.push([d,N]),c.point(d,N)}function P(){c.lineStart(),l=[]}function h(){y(l[0][0],l[0][1]),c.lineEnd();var d=c.clean(),N=f.result(),z,Y=N.length,D,T,G;if(l.pop(),p.push(l),l=null,!!Y){if(d&1){if(T=N[0],(D=T.length-1)>0){for(S||(e.polygonStart(),S=!0),e.lineStart(),z=0;z<D;++z)e.point((G=T[z])[0],G[1]);e.lineEnd()}return}Y>1&&d&2&&N.push(N.pop().concat(N.shift())),o.push(N.filter(Di))}}return a}}function Di(n){return n.length>1}function Ti(n,t){return((n=n.x)[0]<0?n[1]-j-$:j-n[1])-((t=t.x)[0]<0?t[1]-j-$:j-t[1])}const Gt=ai(function(){return!0},Xi,Fi,[-C,-j]);function Xi(n){var t=NaN,r=NaN,i=NaN,e;return{lineStart:function(){n.lineStart(),e=1},point:function(u,f){var c=u>0?C:-C,S=X(u-t);X(S-C)<$?(n.point(t,r=(r+f)/2>0?j:-j),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(c,r),n.point(u,r),e=0):i!==c&&S>=C&&(X(t-i)<$&&(t-=i*$),X(u-c)<$&&(u-=c*$),r=Yi(t,r,u,f),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(c,r),e=0),n.point(t=u,r=f),i=c},lineEnd:function(){n.lineEnd(),t=r=NaN},clean:function(){return 2-e}}}function Yi(n,t,r,i){var e,u,f=w(n-r);return X(f)>$?Et((w(t)*(u=L(i))*w(r)-w(i)*(e=L(t))*w(n))/(e*u*f)):(t+i)/2}function Fi(n,t,r,i){var e;if(n==null)e=r*j,i.point(-C,e),i.point(0,e),i.point(C,e),i.point(C,0),i.point(C,-e),i.point(0,-e),i.point(-C,-e),i.point(-C,0),i.point(-C,e);else if(X(n[0]-t[0])>$){var u=n[0]<t[0]?C:-C;e=r*u/2,i.point(-u,e),i.point(0,e),i.point(u,e)}else i.point(t[0],t[1])}function Gi(n){var t=L(n),r=2*R,i=t>0,e=X(t)>$;function u(o,l,a,g){Ci(g,n,r,a,o,l)}function f(o,l){return L(o)*L(l)>t}function c(o){var l,a,g,v,M;return{lineStart:function(){v=g=!1,M=1},point:function(E,y){var P=[E,y],h,d=f(E,y),N=i?d?0:p(E,y):d?p(E+(E<0?C:-C),y):0;if(!l&&(v=g=d)&&o.lineStart(),d!==g&&(h=S(l,P),(!h||Xn(l,h)||Xn(P,h))&&(P[2]=1)),d!==g)M=0,d?(o.lineStart(),h=S(P,l),o.point(h[0],h[1])):(h=S(l,P),o.point(h[0],h[1],2),o.lineEnd()),l=h;else if(e&&l&&i^d){var z;!(N&a)&&(z=S(P,l,!0))&&(M=0,i?(o.lineStart(),o.point(z[0][0],z[0][1]),o.point(z[1][0],z[1][1]),o.lineEnd()):(o.point(z[1][0],z[1][1]),o.lineEnd(),o.lineStart(),o.point(z[0][0],z[0][1],3)))}d&&(!l||!Xn(l,P))&&o.point(P[0],P[1]),l=P,g=d,a=N},lineEnd:function(){g&&o.lineEnd(),l=null},clean:function(){return M|(v&&g)<<1}}}function S(o,l,a){var g=gn(o),v=gn(l),M=[1,0,0],E=yn(g,v),y=An(E,E),P=E[0],h=y-P*P;if(!h)return!a&&o;var d=t*y/h,N=-t*P/h,z=yn(M,E),Y=Cn(M,d),D=Cn(E,N);bn(Y,D);var T=z,G=An(Y,T),I=An(T,T),Q=G*G-I*(An(Y,Y)-1);if(!(Q<0)){var W=fn(Q),F=Cn(T,(-G-W)/I);if(bn(F,Y),F=Wn(F),!a)return F;var s=o[0],A=l[0],H=o[1],U=l[1],b;A<s&&(b=s,s=A,A=b);var Mn=A-s,rn=X(Mn-C)<$,pn=rn||Mn<$;if(!rn&&U<H&&(b=H,H=U,U=b),pn?rn?H+U>0^F[1]<(X(F[0]-s)<$?H:U):H<=F[1]&&F[1]<=U:Mn>C^(s<=F[0]&&F[0]<=A)){var en=Cn(T,(-G+W)/I);return bn(en,Y),[F,Wn(en)]}}}function p(o,l){var a=i?n:C-n,g=0;return o<-a?g|=1:o>a&&(g|=2),l<-a?g|=4:l>a&&(g|=8),g}return ai(f,c,u,i?[0,-n]:[-C,n-C])}function Oi(n,t,r,i,e,u){var f=n[0],c=n[1],S=t[0],p=t[1],o=0,l=1,a=S-f,g=p-c,v;if(v=r-f,!(!a&&v>0)){if(v/=a,a<0){if(v<o)return;v<l&&(l=v)}else if(a>0){if(v>l)return;v>o&&(o=v)}if(v=e-f,!(!a&&v<0)){if(v/=a,a<0){if(v>l)return;v>o&&(o=v)}else if(a>0){if(v<o)return;v<l&&(l=v)}if(v=i-c,!(!g&&v>0)){if(v/=g,g<0){if(v<o)return;v<l&&(l=v)}else if(g>0){if(v>l)return;v>o&&(o=v)}if(v=u-c,!(!g&&v<0)){if(v/=g,g<0){if(v>l)return;v>o&&(o=v)}else if(g>0){if(v<o)return;v<l&&(l=v)}return o>0&&(n[0]=f+o*a,n[1]=c+o*g),l<1&&(t[0]=f+l*a,t[1]=c+l*g),!0}}}}}var Rn=1e9,Tn=-Rn;function Bi(n,t,r,i){function e(p,o){return n<=p&&p<=r&&t<=o&&o<=i}function u(p,o,l,a){var g=0,v=0;if(p==null||(g=f(p,l))!==(v=f(o,l))||S(p,o)<0^l>0)do a.point(g===0||g===3?n:r,g>1?i:t);while((g=(g+l+4)%4)!==v);else a.point(o[0],o[1])}function f(p,o){return X(p[0]-n)<$?o>0?0:3:X(p[0]-r)<$?o>0?2:1:X(p[1]-t)<$?o>0?1:0:o>0?3:2}function c(p,o){return S(p.x,o.x)}function S(p,o){var l=f(p,1),a=f(o,1);return l!==a?l-a:l===0?o[1]-p[1]:l===1?p[0]-o[0]:l===2?p[1]-o[1]:o[0]-p[0]}return function(p){var o=p,l=fi(),a,g,v,M,E,y,P,h,d,N,z,Y={point:D,lineStart:Q,lineEnd:W,polygonStart:G,polygonEnd:I};function D(s,A){e(s,A)&&o.point(s,A)}function T(){for(var s=0,A=0,H=g.length;A<H;++A)for(var U=g[A],b=1,Mn=U.length,rn=U[0],pn,en,zn=rn[0],hn=rn[1];b<Mn;++b)pn=zn,en=hn,rn=U[b],zn=rn[0],hn=rn[1],en<=i?hn>i&&(zn-pn)*(i-en)>(hn-en)*(n-pn)&&++s:hn<=i&&(zn-pn)*(i-en)<(hn-en)*(n-pn)&&--s;return s}function G(){o=l,a=[],g=[],z=!0}function I(){var s=T(),A=z&&s,H=(a=jt(a)).length;(A||H)&&(p.polygonStart(),A&&(p.lineStart(),u(null,null,1,p),p.lineEnd()),H&&li(a,c,s,u,p),p.polygonEnd()),o=p,a=g=v=null}function Q(){Y.point=F,g&&g.push(v=[]),N=!0,d=!1,P=h=NaN}function W(){a&&(F(M,E),y&&d&&l.rejoin(),a.push(l.result())),Y.point=D,d&&o.lineEnd()}function F(s,A){var H=e(s,A);if(g&&v.push([s,A]),N)M=s,E=A,y=H,N=!1,H&&(o.lineStart(),o.point(s,A));else if(H&&d)o.point(s,A);else{var U=[P=Math.max(Tn,Math.min(Rn,P)),h=Math.max(Tn,Math.min(Rn,h))],b=[s=Math.max(Tn,Math.min(Rn,s)),A=Math.max(Tn,Math.min(Rn,A))];Oi(U,b,n,t,r,i)?(d||(o.lineStart(),o.point(U[0],U[1])),o.point(b[0],b[1]),H||o.lineEnd(),z=!1):H&&(o.lineStart(),o.point(s,A),z=!1)}P=s,h=A,d=H}return Y}}var pt,vt,Yn,Fn,dn={sphere:Z,point:Z,lineStart:qi,lineEnd:Z,polygonStart:Z,polygonEnd:Z};function qi(){dn.point=Hi,dn.lineEnd=Wi}function Wi(){dn.point=dn.lineEnd=Z}function Hi(n,t){n*=R,t*=R,vt=n,Yn=w(t),Fn=L(t),dn.point=Zi}function Zi(n,t){n*=R,t*=R;var r=w(t),i=L(t),e=X(n-vt),u=L(e),f=w(e),c=i*f,S=Fn*r-Yn*i*u,p=Yn*r+Fn*i*u;pt.add(nn(fn(c*c+S*S),p)),vt=n,Yn=r,Fn=i}function xi(n){return pt=new un,mn(n,dn),+pt}var gt=[null,null],Ji={type:"LineString",coordinates:gt};function ht(n,t){return gt[0]=n,gt[1]=t,xi(Ji)}var Ot={Feature:function(n,t){return jn(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,i=-1,e=r.length;++i<e;)if(jn(r[i].geometry,t))return!0;return!1}},Bt={Sphere:function(){return!0},Point:function(n,t){return qt(n.coordinates,t)},MultiPoint:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)if(qt(r[i],t))return!0;return!1},LineString:function(n,t){return Wt(n.coordinates,t)},MultiLineString:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)if(Wt(r[i],t))return!0;return!1},Polygon:function(n,t){return Ht(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)if(Ht(r[i],t))return!0;return!1},GeometryCollection:function(n,t){for(var r=n.geometries,i=-1,e=r.length;++i<e;)if(jn(r[i],t))return!0;return!1}};function jn(n,t){return n&&Bt.hasOwnProperty(n.type)?Bt[n.type](n,t):!1}function qt(n,t){return ht(n,t)===0}function Wt(n,t){for(var r,i,e,u=0,f=n.length;u<f;u++){if(i=ht(n[u],t),i===0||u>0&&(e=ht(n[u],n[u-1]),e>0&&r<=e&&i<=e&&(r+i-e)*(1-Math.pow((r-i)/e,2))<Gn*e))return!0;r=i}return!1}function Ht(n,t){return!!ci(n.map(Ki),si(t))}function Ki(n){return n=n.map(si),n.pop(),n}function si(n){return[n[0]*R,n[1]*R]}function sr(n,t){return(n&&Ot.hasOwnProperty(n.type)?Ot[n.type]:jn)(n,t)}function Zt(n,t,r){var i=Sn(n,t-$,r).concat(t);return function(e){return i.map(function(u){return[e,u]})}}function xt(n,t,r){var i=Sn(n,t-$,r).concat(t);return function(e){return i.map(function(u){return[u,e]})}}function Qi(){var n,t,r,i,e,u,f,c,S=10,p=S,o=90,l=360,a,g,v,M,E=2.5;function y(){return{type:"MultiLineString",coordinates:P()}}function P(){return Sn($n(i/o)*o,r,o).map(v).concat(Sn($n(c/l)*l,f,l).map(M)).concat(Sn($n(t/S)*S,n,S).filter(function(h){return X(h%o)>$}).map(a)).concat(Sn($n(u/p)*p,e,p).filter(function(h){return X(h%l)>$}).map(g))}return y.lines=function(){return P().map(function(h){return{type:"LineString",coordinates:h}})},y.outline=function(){return{type:"Polygon",coordinates:[v(i).concat(M(f).slice(1),v(r).reverse().slice(1),M(c).reverse().slice(1))]}},y.extent=function(h){return arguments.length?y.extentMajor(h).extentMinor(h):y.extentMinor()},y.extentMajor=function(h){return arguments.length?(i=+h[0][0],r=+h[1][0],c=+h[0][1],f=+h[1][1],i>r&&(h=i,i=r,r=h),c>f&&(h=c,c=f,f=h),y.precision(E)):[[i,c],[r,f]]},y.extentMinor=function(h){return arguments.length?(t=+h[0][0],n=+h[1][0],u=+h[0][1],e=+h[1][1],t>n&&(h=t,t=n,n=h),u>e&&(h=u,u=e,e=h),y.precision(E)):[[t,u],[n,e]]},y.step=function(h){return arguments.length?y.stepMajor(h).stepMinor(h):y.stepMinor()},y.stepMajor=function(h){return arguments.length?(o=+h[0],l=+h[1],y):[o,l]},y.stepMinor=function(h){return arguments.length?(S=+h[0],p=+h[1],y):[S,p]},y.precision=function(h){return arguments.length?(E=+h,a=Zt(u,e,90),g=xt(t,n,E),v=Zt(c,f,90),M=xt(i,r,E),y):E},y.extentMajor([[-180,-90+$],[180,90-$]]).extentMinor([[-180,-80-$],[180,80+$]])}function pr(){return Qi()()}function vr(n,t){var r=n[0]*R,i=n[1]*R,e=t[0]*R,u=t[1]*R,f=L(i),c=w(i),S=L(u),p=w(u),o=f*L(r),l=f*w(r),a=S*L(e),g=S*w(e),v=2*ln(fn(Mt(u-i)+f*S*Mt(e-r))),M=w(v),E=v?function(y){var P=w(y*=v)/M,h=w(v-y)/M,d=h*o+P*a,N=h*l+P*g,z=h*c+P*p;return[nn(N,d)*q,nn(z,fn(d*d+N*N))*q]}:function(){return[r*q,i*q]};return E.distance=v,E}const Jt=n=>n;var Pn=1/0,kn=Pn,Nn=-Pn,_n=Nn,Kt={point:Ui,lineStart:Z,lineEnd:Z,polygonStart:Z,polygonEnd:Z,result:function(){var n=[[Pn,kn],[Nn,_n]];return Nn=_n=-(kn=Pn=1/0),n}};function Ui(n,t){n<Pn&&(Pn=n),n>Nn&&(Nn=n),t<kn&&(kn=t),t>_n&&(_n=t)}function dt(n){return function(t){var r=new St;for(var i in n)r[i]=n[i];return r.stream=t,r}}function St(){}St.prototype={constructor:St,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Pt(n,t,r){var i=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),i!=null&&n.clipExtent(null),mn(r,n.stream(Kt)),t(Kt.result()),i!=null&&n.clipExtent(i),n}function pi(n,t,r){return Pt(n,function(i){var e=t[1][0]-t[0][0],u=t[1][1]-t[0][1],f=Math.min(e/(i[1][0]-i[0][0]),u/(i[1][1]-i[0][1])),c=+t[0][0]+(e-f*(i[1][0]+i[0][0]))/2,S=+t[0][1]+(u-f*(i[1][1]+i[0][1]))/2;n.scale(150*f).translate([c,S])},r)}function Vi(n,t,r){return pi(n,[[0,0],t],r)}function ji(n,t,r){return Pt(n,function(i){var e=+t,u=e/(i[1][0]-i[0][0]),f=(e-u*(i[1][0]+i[0][0]))/2,c=-u*i[0][1];n.scale(150*u).translate([f,c])},r)}function ki(n,t,r){return Pt(n,function(i){var e=+t,u=e/(i[1][1]-i[0][1]),f=-u*i[0][0],c=(e-u*(i[1][1]+i[0][1]))/2;n.scale(150*u).translate([f,c])},r)}var Qt=16,_i=L(30*R);function Ut(n,t){return+t?bi(n,t):mi(n)}function mi(n){return dt({point:function(t,r){t=n(t,r),this.stream.point(t[0],t[1])}})}function bi(n,t){function r(i,e,u,f,c,S,p,o,l,a,g,v,M,E){var y=p-i,P=o-e,h=y*y+P*P;if(h>4*t&&M--){var d=f+a,N=c+g,z=S+v,Y=fn(d*d+N*N+z*z),D=ln(z/=Y),T=X(X(z)-1)<$||X(u-l)<$?(u+l)/2:nn(N,d),G=n(T,D),I=G[0],Q=G[1],W=I-i,F=Q-e,s=P*W-y*F;(s*s/h>t||X((y*W+P*F)/h-.5)>.3||f*a+c*g+S*v<_i)&&(r(i,e,u,f,c,S,I,Q,T,d/=Y,N/=Y,z,M,E),E.point(I,Q),r(I,Q,T,d,N,z,p,o,l,a,g,v,M,E))}}return function(i){var e,u,f,c,S,p,o,l,a,g,v,M,E={point:y,lineStart:P,lineEnd:d,polygonStart:function(){i.polygonStart(),E.lineStart=N},polygonEnd:function(){i.polygonEnd(),E.lineStart=P}};function y(D,T){D=n(D,T),i.point(D[0],D[1])}function P(){l=NaN,E.point=h,i.lineStart()}function h(D,T){var G=gn([D,T]),I=n(D,T);r(l,a,o,g,v,M,l=I[0],a=I[1],o=D,g=G[0],v=G[1],M=G[2],Qt,i),i.point(l,a)}function d(){E.point=y,i.lineEnd()}function N(){P(),E.point=z,E.lineEnd=Y}function z(D,T){h(e=D,T),u=l,f=a,c=g,S=v,p=M,E.point=h}function Y(){r(l,a,o,g,v,M,u,f,e,c,S,p,Qt,i),E.lineEnd=d,d()}return E}}var nr=dt({point:function(n,t){this.stream.point(n*R,t*R)}});function tr(n){return dt({point:function(t,r){var i=n(t,r);return this.stream.point(i[0],i[1])}})}function ir(n,t,r,i,e){function u(f,c){return f*=i,c*=e,[t+n*f,r-n*c]}return u.invert=function(f,c){return[(f-t)/n*i,(r-c)/n*e]},u}function Vt(n,t,r,i,e,u){if(!u)return ir(n,t,r,i,e);var f=L(u),c=w(u),S=f*n,p=c*n,o=f/n,l=c/n,a=(c*r-f*t)/n,g=(c*t+f*r)/n;function v(M,E){return M*=i,E*=e,[S*M-p*E+t,r-p*M-S*E]}return v.invert=function(M,E){return[i*(o*M-l*E+a),e*(g-l*M-o*E)]},v}function rr(n){return er(function(){return n})()}function er(n){var t,r=150,i=480,e=250,u=0,f=0,c=0,S=0,p=0,o,l=0,a=1,g=1,v=null,M=Gt,E=null,y,P,h,d=Jt,N=.5,z,Y,D,T,G;function I(s){return D(s[0]*R,s[1]*R)}function Q(s){return s=D.invert(s[0],s[1]),s&&[s[0]*q,s[1]*q]}I.stream=function(s){return T&&G===s?T:T=nr(tr(o)(M(z(d(G=s)))))},I.preclip=function(s){return arguments.length?(M=s,v=void 0,F()):M},I.postclip=function(s){return arguments.length?(d=s,E=y=P=h=null,F()):d},I.clipAngle=function(s){return arguments.length?(M=+s?Gi(v=s*R):(v=null,Gt),F()):v*q},I.clipExtent=function(s){return arguments.length?(d=s==null?(E=y=P=h=null,Jt):Bi(E=+s[0][0],y=+s[0][1],P=+s[1][0],h=+s[1][1]),F()):E==null?null:[[E,y],[P,h]]},I.scale=function(s){return arguments.length?(r=+s,W()):r},I.translate=function(s){return arguments.length?(i=+s[0],e=+s[1],W()):[i,e]},I.center=function(s){return arguments.length?(u=s[0]%360*R,f=s[1]%360*R,W()):[u*q,f*q]},I.rotate=function(s){return arguments.length?(c=s[0]%360*R,S=s[1]%360*R,p=s.length>2?s[2]%360*R:0,W()):[c*q,S*q,p*q]},I.angle=function(s){return arguments.length?(l=s%360*R,W()):l*q},I.reflectX=function(s){return arguments.length?(a=s?-1:1,W()):a<0},I.reflectY=function(s){return arguments.length?(g=s?-1:1,W()):g<0},I.precision=function(s){return arguments.length?(z=Ut(Y,N=s*s),F()):fn(N)},I.fitExtent=function(s,A){return pi(I,s,A)},I.fitSize=function(s,A){return Vi(I,s,A)},I.fitWidth=function(s,A){return ji(I,s,A)},I.fitHeight=function(s,A){return ki(I,s,A)};function W(){var s=Vt(r,0,0,a,g,l).apply(null,t(u,f)),A=Vt(r,i-s[0],e-s[1],a,g,l);return o=ui(c,S,p),Y=at(t,A),D=at(o,Y),z=Ut(Y,N),F()}function F(){return T=G=null,I}return function(){return t=n.apply(this,arguments),I.invert=t.invert&&Q,W()}}function or(n){return function(t,r){var i=fn(t*t+r*r),e=n(i),u=w(e),f=L(e);return[nn(t*u,i*f),ln(i&&r*u/i)]}}function ur(n,t){return[n,hi(Ei((j+t)/2))]}ur.invert=function(n,t){return[n,2*Et(gi(t))-j]};function vi(n,t){var r=L(t),i=1+L(n)*r;return[r*w(n)/i,w(t)/i]}vi.invert=or(function(n){return 2*Et(n)});function gr(){return rr(vi).scale(250).clipAngle(142)}export{gr as a,cr as b,ht as c,lr as d,sr as e,vr as f,ar as g,pr as h,ur as m};
